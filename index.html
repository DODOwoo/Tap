<!DOCTYPE HTML>
<html>
 <head>
 <link href="Flat-UI-master/bootstrap/css/bootstrap.css" rel="stylesheet">
 <link href="Flat-UI-master/css/flat-ui.css" rel="stylesheet">
 <link href="s/css/tap.css" rel="stylesheet">
</head>
<body>
	<div class="container">
		<div>
			<h3 class="demo-panel-title">Task Thread Clock: <b id="threadLength"></b></h3>
			<div class="btns">
				<button id="btn-resource-modal" data-target="#resourceModal" data-toggle="modal" data-backdrop="false" class="btn btn-default btn-title">Load Resource</button>
				<button id="btn-enlarge" class="btn btn-warning btn-title">Enlarge</button>
				<button id="btn-save-modal" data-target="#saveModal" data-toggle="modal" data-backdrop="false" class="btn btn-info btn-title">Save & Load</button>
				<output style="display:inline"></output>
			</div>
		</div>
		<div class="thread-rows">
			<div class="row">
				<div class="threadrow">
					<div class="backline"></div>
					<div class="thread0 thread" id="thread0">
					</div>
					<div class="rowtitle" data-toggle="tooltip" data-placement="top" title="Thread 0">Thread 0</div>
					<div class="task-add" data-toggle="modal" data-target="#addTaskModal" data-id="thread0" data-name="Thread 0" data-backdrop="false">
						<div class="task-add-ico">+</div>
					</div>
				</div>
			</div>
		</div>
		<div>
			<div class="row">
				<div class="rulerow">
					<div class="ruletitle"><button id="btn-add-thread" class="btn btn-primary" data-toggle="modal" data-backdrop="false" data-target="#myModal">New Thread</button></div>
					<div class="ruleline"></div>
					<div class="rulenumber"></div>
				</div>
			</div>
		</div>
		<div class="instances">
		</div>
	</div>
	<!-- Modal -->
	<div class="modal fade" id="resourceModal" tabindex="-1" role="dialog" aria-labelledby="resourceModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="resourceModalLabel">Load Resource File</h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
	        	<div class="col-md-2"></div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control required" value="/s/resource.setting" placeholder="Enter Resource Path & File Name" id="resource-name">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" id="btn-load-resource">Load</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<!-- Modal -->
	<!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">New Thread</h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
	        	<div class="col-md-2"></div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control required" value="" placeholder="Enter Thread Name" id="thread-name">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" id="btn-new-thread">Save changes</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<!-- Modal -->
	<div class="modal fade" id="addTaskModal" tabindex="-1" role="dialog" aria-labelledby="newTaskModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="newTaskModalLabel">New Task @<label></label></h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Name</label>
	        	</div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control task-name required" value="" placeholder="Enter Task Name" id="task-name">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Comp. Length</label>
	        	</div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control task-comp-length required required-int" value="" placeholder="Enter Task Length" id="task-comp-length">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Prolog Length</label>
	        	</div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control task-prolog-length required required-int" value="" placeholder="Enter Task Length" id="task-prolog-length">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Resources</label>
	        	</div>
	        	<div class="col-md-10">
	        		<div>
		        		<div class="col-md-3"></div>
		        		<div class="col-md-4">
		        			<label>
				        		Prolog Resource
			        		</label>
		        		</div>
		        		<div class="col-md-5">
		        			<label>
				        		Comp. Resource
			        		</label>
		        		</div>
	        		</div>
	        	</div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        	</div>
	        	<div class="col-md-10 select-resources">
	        	</div>
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" id="btn-new-task">Save changes</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<!-- Modal -->
	<div class="modal fade" id="editTaskModal" tabindex="-1" role="dialog" aria-labelledby="editTaskModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="editTaskModalLabel">Edit Task @<label></label></h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Name</label>
	        	</div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control task-name" value="" placeholder="Enter Task Name" id="edittask-name">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Comp. Length</label>
	        	</div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control task-comp-length" value="" placeholder="Enter Task Length" id="edittask-comp-length">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Prolog Length</label>
	        	</div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control task-prolog-length" value="" placeholder="Enter Task Length" id="edittask-prolog-length">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        		<label>Resources</label>
	        	</div>
	        	<div class="col-md-10">
	        		<div>
		        		<div class="col-md-3"></div>
		        		<div class="col-md-4">
		        			<label>
				        		Prolog Resource
			        		</label>
		        		</div>
		        		<div class="col-md-5">
		        			<label>
				        		Comp. Resource
			        		</label>
		        		</div>
	        		</div>
	        	</div>
	        </div>
	        <div class="row">
	        	<div class="col-md-2">
	        	</div>
	        	<div class="col-md-10 select-resources">
	        	</div>
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-danger" id="btn-del-task">Delete</button>
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" id="btn-edit-task">Save changes</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<!-- Modal -->
	<div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="saveModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="saveModalLabel">Save or Load a File</h4>
	      </div>
	      <div class="modal-body">
	        <div class="row">
	        	<div class="col-md-2"></div>
	        	<div class="col-md-8">
			        <div class="form-group">
			        	<input type="text" class="form-control" value="MyFile.txt" placeholder="filename.txt" id="file-name">
		        	</div>
	        	</div>
	        	<div class="col-md-2"></div>
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-warning" id="btn-load">Load</button>
	        <button type="button" class="btn btn-primary" id="btn-save">Save</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<!-- Modal -->
</body>
<script type="text/javascript" src="Flat-UI-master/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="Flat-UI-master/js/bootstrap.min.js"></script>
<script src="Flat-UI-master/js/flatui-checkbox.js"></script>
<script type="text/javascript" src="s/js/sample.js"></script>
<script type="text/javascript" src="s/js/data.js"></script>
<script type="text/javascript" src="s/js/tap.js"></script>
<script type="text/javascript" src="s/js/drag.js"></script>
<script type="text/javascript" src="s/js/click.js"></script>
<script type="text/javascript" src="s/js/save.js"></script>
<script type="text/javascript" src="s/js/load.js"></script>
<script type="text/javascript">
	(function() {
		//getDataFromXml();
		//getDataFromSaveFile();
		//loadResource(jQuery.parseJSON(Resources));
		//loadAll();
		$('#resourceModal').modal({backdrop:false});
		loadRule();
		
		//var containerWidth = $('.container').width();
		//var btnsWidth = $('.btns').width();
		$(window).scroll(function(){
    		$('.rowtitle').css({
        		'left': $(this).scrollLeft()
    		});

    		$('.task-add').css({
        		'left': $(this).scrollLeft() + titleLeft -40 - 5
    		});
    		
    		$('.ruletitle').css({
        		'left': $(this).scrollLeft()
    		});
		});

		initdragevent();
		initclickevent();

		$("[data-toggle=tooltip]").tooltip();
	})();


	window.onbeforeunload = function(){
	    return 'Please Confirm you\'ve saved what you do on this page, otherwise it\'ll go away and nowhere to find';
	};
</script>
</html>